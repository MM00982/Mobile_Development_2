# Практическая работа №10

## Глава 1. Модели данных и архитектура

В данной главе рассмотрена теория разделения моделей данных по слоям приложения. На схеме представлены уровни UI, Business 
Logic и Data Access, а также промежуточные DTO и ViewModel.
Для каждого слоя определена своя ответственность:
UI Layer: DTO для отображения (только необходимые поля, например, имя и аватар).
Domain Layer: Сущности бизнес-логики (валидация, расчеты).
Data Layer: ORM-модели (полное соответствие таблицам БД) и сетевые модели.
Mappers: Механизмы преобразования данных между слоями для обеспечения независимости.

---

## Глава 2. Рефакторинг MovieProject (Storage и Mappers)

В этой главе произведена модернизация учебного проекта «MovieProject». Изначальная реализация MovieRepositoryImpl нарушала принципы SOLID, 
смешивая логику хранения и маршрутизации данных.
Выполненные изменения:
Выделение хранилища: Создан пакет storage в слое data. Определен интерфейс MovieStorage и его реализация SharedPrefMovieStorage. Теперь 
репозиторий делегирует сохранение этому отдельному компоненту.
Независимые модели: Внутри пакета storage создана собственная модель Movie (с полями id, name, localDate), независимая от доменной сущности.
Маппинг: В репозитории реализованы методы mapToStorage и mapToDomain, преобразующие данные при переходе границ слоев. Это обеспечивает полную 
изоляцию хранилища от изменений в бизнес-логике.

---

## Глава 3. Модуляризация проекта (App, Domain, Data)

Диаграмма иллюстрирует физическое разделение монолитного приложения на три независимых модуля. Это предотвращает случайное использование классов 
не из того слоя и жестко фиксирует архитектурные границы.
Состав модулей:
Domain (Java/Kotlin Library): Самый внутренний модуль. Содержит сущности Movie, интерфейсы репозиториев MovieRepository и UseCase'ы. Не имеет 
зависимостей от Android-фреймворка и других модулей.
Data (Android Library): Зависит от Domain. Содержит реализацию репозиториев, работу с SharedPreferences (SharedPrefMovieStorage), Room и NetworkAPI.
App (Android Application): Зависит от Domain и Data. Содержит Presentation слой (Activity, ViewModel) и точку входа в приложение.

<img width="2560" height="1539" alt="image_2025-12-18_00-47-10" src="https://github.com/user-attachments/assets/e6bcd35c-25d6-4999-864a-5997d8f53fce" />

---

## Глава 4. Каркас приложения Travel Weather (Контрольное задание)

<img width="780" height="1866" alt="screen" src="https://github.com/user-attachments/assets/347b5f51-18e9-43d1-889b-6bb60afece68" />
<img width="780" height="2716" alt="screen2" src="https://github.com/user-attachments/assets/5fd47a04-1dc5-4797-802e-9e2f70ff34d2" />
<img width="780" height="1902" alt="screen3" src="https://github.com/user-attachments/assets/8e1f69fe-811c-41ca-8b5b-e086021ba41b" />

На основе требований контрольного задания спроектировано и реализовано приложение Travel Weather с использованием модульной архитектуры и Firebase.
Основные компоненты системы:
Авторизация: В модуле presentation реализован экран входа. Логика аутентификации через Firebase Auth распределена по слоям: UI 
вызывает UseCase, который обращается к AuthRepository (в модуле data).
Источники данных (Repository Pattern): В репозитории погоды реализована комбинированная работа с тремя источниками:
SharedPreferences: Кэширование информации о пользователе и настройках.
Room: Локальное хранение списка избранных городов и истории запросов.
NetworkApi: Имитация работы с внешним API (Mock) для получения JSON-данных о погоде.
Use Cases: Реализованы сценарии для авторизованного (сохранение в БД) и гостевого доступа.
TFLite: Подготовлена интеграция ML-модели для классификации изображений/аудио (согласно заданию).

<img width="2560" height="1538" alt="image" src="https://github.com/user-attachments/assets/14b0d22a-1c39-4c24-be25-cbe3174595e2" />
<img width="2560" height="1541" alt="image" src="https://github.com/user-attachments/assets/792689a4-e67d-46b6-ab8c-902f8a1addb3" />
<img width="2560" height="1541" alt="image" src="https://github.com/user-attachments/assets/38d333d1-52e3-4f72-a8a3-d9fe10cd7d35" />
<img width="2560" height="1536" alt="image" src="https://github.com/user-attachments/assets/56cb4e75-6e4d-4db7-805c-bb4a2851d7c2" />

---

## Вывод

В рамках практической работы №2 выполнен переход от монолитной архитектуры к модульной (Clean Architecture). 
Проект разделен на модули app, domain, data, что исключило циклические зависимости и нарушение границ ответственности. 
Реализован механизм маппинга данных между слоями, что позволило сделать слой хранения (storage) полностью независимым.
В качестве контрольного задания разработан каркас приложения Travel Weather, включающий авторизацию через Firebase, работу с 
локальной БД (Room), сетевые запросы и разделение прав доступа (гость/пользователь), демонстрируя практическое применение 
принципов Clean Architecture в сложном приложении.


---

**Выполнил**: Мусин М.Р.  
**Группа**: БСБО-09-22
