# Практическая работа №13

## Глава 1. Сетевое взаимодействие (Проект RetrofitApp)

Для изучения работы с сетевыми запросами и загрузкой изображений было создано приложение RetrofitApp, взаимодействующее с тестовым API JSONPlaceholder.
### 1.1. Работа с REST API через Retrofit
В проекте реализован интерфейс ApiService, описывающий методы для получения списка задач (GET /todos) и обновления статуса задачи (PATCH /todos/{id}).
Для выполнения запросов используется библиотека Retrofit с конвертером Gson. Асинхронные вызовы реализованы через механизм Callback.
Приложение загружает список задач и отображает их в RecyclerView. При клике на CheckBox отправляется запрос на сервер для обновления статуса задачи (completed), и результат (обновленный ID) выводится в Logcat.
### 1.2. Загрузка изображений через Picasso
Для отображения изображений в элементах списка использована библиотека Picasso. Поскольку API JSONPlaceholder не предоставляет картинок, в адаптере реализована генерация URL для случайных изображений через сервис picsum.photos. Picasso загружает изображение по ссылке, кэширует его, трансформирует (resize/crop) и отображает в ImageView. Также предусмотрены плейсхолдеры на время загрузки и при ошибке.

<img width="2560" height="1543" alt="image_2025-12-20_01-07-51" src="https://github.com/user-attachments/assets/f8579843-9a79-4429-89a7-ea9511f9b2b8" />

---

## Глава 2. Контрольное задание (Travel Weather)

В основном приложении «Travel Weather» выполнены доработки для полного соответствия требованиям задания по работе с сетью и изображениями.
Реализация загрузки изображений:
Ранее в приложении использовались статические локальные иконки погоды. В соответствии с заданием, механизм был изменен на динамическую загрузку с серверов OpenWeatherMap.
* В модель данных WeatherNow добавлено поле iconId.
* В WeatherActivity интегрирована библиотека Picasso.
* Теперь URL иконки формируется динамически (например, https://openweathermap.org/img/wn/10d@2x.png) на основе данных, пришедших из API, и изображение загружается напрямую в ImageView.

Выполнение требований контрольного задания:
1. Авторизация: Firebase Auth.
2. Сетевое взаимодействие: Retrofit для получения JSON-прогноза.

<img width="2560" height="1383" alt="image" src="https://github.com/user-attachments/assets/d64d2e0a-d524-4c59-998b-52195b569206" />

3. Сохранение данных: Room Database.
4. Список сущностей: RecyclerView на главном экране (города).
5. Детальный экран: WeatherActivity с подробным прогнозом.
6. ML: Имитация распознавания голоса (VoiceRepository).
7. Изображения: Загрузка погодных иконок через Picasso (реализовано в этой работе).

<img width="2560" height="1544" alt="image_2025-12-20_01-18-19" src="https://github.com/user-attachments/assets/b02198f7-2af1-4cf7-b1c1-30fe0c648c72" />

---

## Вывод

В ходе работы изучены принципы построения REST-клиентов под Android. Библиотека Retrofit позволила 
удобно описать API и обрабатывать JSON-ответы, а Picasso — эффективно загружать и кэшировать изображения. 
Полученные знания были применены как в учебном проекте, так и для улучшения функционала основного приложения 
Travel Weather, заменив статические ресурсы на актуальные данные из сети.


---

**Выполнил**: Мусин М.Р.  
**Группа**: БСБО-09-22
